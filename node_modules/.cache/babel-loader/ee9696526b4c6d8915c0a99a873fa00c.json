{"ast":null,"code":"var _jsxFileName = \"/home/brizy/Documents/MyApp/test/ebs-fe-test/src/components/Products.tsx\";\nimport { ProductContext } from 'context';\nimport React, { useContext, useEffect } from 'react';\nimport { useState } from 'react';\nimport { useMemo } from 'react';\nexport const Products = () => {\n  const {\n    products,\n    addToCart,\n    removeFromCart,\n    cartItems,\n    fetchProducts\n  } = useContext(ProductContext);\n  const [sortState, setSortState] = useState({\n    key: 0,\n    direction: ''\n  });\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n  const sortedItems = useMemo(() => {\n    let sortableProducts = [...products];\n\n    if (sortState !== null) {\n      sortableProducts.sort((a, b) => {\n        if (a.price < b.price) {\n          return sortState.direction === 'lowest' ? -1 : 1;\n        }\n\n        if (a.price > b.price) {\n          return sortState.direction === 'lowest' ? 1 : -1;\n        }\n\n        return 0;\n      });\n    }\n\n    return sortableProducts;\n  }, [sortState, products]);\n\n  const handleSort = key => {\n    let direction = 'lowest';\n\n    if (sortState && sortState.key === key && sortState.direction === 'lowest') {\n      direction = 'highest';\n    }\n\n    setSortState({\n      key,\n      direction\n    });\n  };\n\n  console.log(sortState);\n  console.log(sortedItems);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"NAME\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleSort('category'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, \"CATEGORY\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      handleSort('highest');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"PRICE\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"ACTIONS\")), sortedItems.map(cartItems => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: cartItems.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, cartItems.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \" \", cartItems.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \" \", cartItems.category.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, \"$\", cartItems.price), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => removeFromCart(cartItems.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, \"-\"), \" Select\", ' ', /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => addToCart({ ...cartItems,\n        quantity: 1\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }\n    }, \"+\")));\n  }))));\n};","map":{"version":3,"names":["ProductContext","React","useContext","useEffect","useState","useMemo","Products","products","addToCart","removeFromCart","cartItems","fetchProducts","sortState","setSortState","key","direction","sortedItems","sortableProducts","sort","a","b","price","handleSort","console","log","margin","map","id","name","category","e","quantity"],"sources":["/home/brizy/Documents/MyApp/test/ebs-fe-test/src/components/Products.tsx"],"sourcesContent":["import { ProductContext } from 'context';\nimport React, { FC, useContext, useEffect } from 'react';\nimport { useState } from 'react';\nimport { useMemo } from 'react';\n\nexport const Products: FC = () => {\n  const { products, addToCart, removeFromCart, cartItems, fetchProducts } = useContext(ProductContext);\n  const [sortState, setSortState] = useState({ key: 0, direction: '' });\n\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n\n  const sortedItems = useMemo(() => {\n    let sortableProducts = [...products];\n    if (sortState !== null) {\n      sortableProducts.sort((a, b) => {\n        if (a.price < b.price) {\n          return sortState.direction === 'lowest' ? -1 : 1;\n        }\n        if (a.price > b.price) {\n          return sortState.direction === 'lowest' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableProducts;\n  }, [sortState, products]);\n\n  const handleSort = (key: any) => {\n    let direction = 'lowest';\n    if (sortState && sortState.key === key && sortState.direction === 'lowest') {\n      direction = 'highest';\n    }\n    setSortState({ key, direction });\n  };\n  console.log(sortState);\n  console.log(sortedItems);\n  return (\n    <div style={{ margin: '50px' }}>\n      <table>\n        <tbody>\n          <tr>\n            <th>ID</th>\n            <th>NAME</th>\n            <th>\n              <button onClick={() => handleSort('category')}>CATEGORY</button>\n            </th>\n            <th>\n              <button\n                onClick={() => {\n                  handleSort('highest');\n                }}\n              >\n                PRICE\n              </button>\n            </th>\n            <th>ACTIONS</th>\n          </tr>\n          {sortedItems.map((cartItems) => {\n            return (\n              <tr key={cartItems.id}>\n                <td>{cartItems.id}</td>\n                <td> {cartItems.name}</td>\n                <td> {cartItems.category.name}</td>\n                <td>${cartItems.price}</td>\n                <td>\n                  <button onClick={(e) => removeFromCart(cartItems.id)}>-</button> Select{' '}\n                  <button onClick={(e) => addToCart({ ...cartItems, quantity: 1 })}>+</button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}