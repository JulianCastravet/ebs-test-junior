{"ast":null,"code":"var _jsxFileName = \"/home/brizy/Documents/MyApp/test/ebs-fe-test/src/components/Products.tsx\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ProductContext } from 'context';\nexport const Products = () => {\n  const navigate = useNavigate();\n  const handleGoToCart = useCallback(() => {\n    navigate('/cart');\n  }, [navigate]);\n  const {\n    products,\n    addToCart,\n    removeFromCart,\n    fetchProducts\n  } = useContext(ProductContext);\n  const [priceFlag, setPriceFlag] = useState(false);\n  const [catFlag, setSortFlag] = useState(false);\n  const [idFlag, setIdFlag] = useState(false);\n  const [resortedArray, setResortedArray] = useState(products);\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n  const handleSortByPrice = useCallback(() => {\n    setPriceFlag(!priceFlag);\n    setResortedArray(resortedArray.sort((a, b) => {\n      return priceFlag ? a.price > b.price : b.price > a.price;\n    }));\n  }, []);\n  const handleSortByCategory = useCallback(() => {\n    setSortFlag(!catFlag);\n    const newArr = products.sort((a, b) => {\n      return catFlag ? a.category.id.localeCompare(b.category.id) : b.category.id.localeCompare(a.category.id);\n    });\n    setResortedArray(newArr);\n  }, [products, catFlag]);\n  const handleRemoveFromCart = useCallback(id => {\n    removeFromCart(id);\n  }, [removeFromCart]);\n  const handleAddToCart = useCallback(item => {\n    addToCart(item);\n  }, [addToCart]);\n  const handleSortByID = useCallback(() => {\n    setIdFlag(!idFlag);\n    setResortedArray(products.sort((a, b) => idFlag ? a.id - b.id : b.id - a.id));\n  }, [idFlag, products]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleGoToCart,\n    className: \"goto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Go To Cart\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSortByID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, \"ID\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"NAME\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSortByCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, \"CATEGORY\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      handleSortByPrice();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, \"PRICE\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"ACTIONS\")), products.map(cartItems => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: cartItems.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, cartItems.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, \" \", cartItems.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \" \", cartItems.category.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"$\", cartItems.price), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleRemoveFromCart(cartItems.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }, \"REMOVE\"), \" Select\", ' ', /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleAddToCart({ ...cartItems,\n        quantity: 1\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, \"ADD\")));\n  }))));\n};","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","useNavigate","ProductContext","Products","navigate","handleGoToCart","products","addToCart","removeFromCart","fetchProducts","priceFlag","setPriceFlag","catFlag","setSortFlag","idFlag","setIdFlag","resortedArray","setResortedArray","handleSortByPrice","sort","a","b","price","handleSortByCategory","newArr","category","id","localeCompare","handleRemoveFromCart","handleAddToCart","item","handleSortByID","margin","map","cartItems","name","quantity"],"sources":["/home/brizy/Documents/MyApp/test/ebs-fe-test/src/components/Products.tsx"],"sourcesContent":["import React, { FC, useCallback, useContext, useEffect, useState, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ProductContext } from 'context';\nimport { CartItem, Product } from 'interfaces';\n\nexport const Products: FC = () => {\n  const navigate = useNavigate();\n\n  const handleGoToCart = useCallback(() => {\n    navigate('/cart');\n  }, [navigate]);\n\n  const { products, addToCart, removeFromCart, fetchProducts } = useContext(ProductContext);\n  const [priceFlag, setPriceFlag] = useState<boolean>(false);\n  const [catFlag, setSortFlag] = useState<boolean>(false);\n  const [idFlag, setIdFlag] = useState<boolean>(false);\n  const [resortedArray, setResortedArray] = useState<Product[]>(products);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n\nconst handleSortByPrice = useCallback(()=>{\n  setPriceFlag(!priceFlag)\n  setResortedArray(resortedArray.sort((a,b)=>{return priceFlag? a.price > b.price: b.price >a.price}))\n\n},[])\n\n\n\n  const handleSortByCategory = useCallback(() => {\n    setSortFlag(!catFlag);\n    const newArr = products.sort((a, b): number => {\n      return catFlag ? a.category.id.localeCompare(b.category.id) : b.category.id.localeCompare(a.category.id);\n    });\n    setResortedArray(newArr);\n  }, [products, catFlag]);\n\n  const handleRemoveFromCart = useCallback(\n    (id: number) => {\n      removeFromCart(id);\n    },\n    [removeFromCart],\n  );\n\n  const handleAddToCart = useCallback(\n    (item: CartItem) => {\n      addToCart(item);\n    },\n    [addToCart],\n  );\n\n  const handleSortByID = useCallback(() => {\n    setIdFlag(!idFlag);\n    setResortedArray(products.sort((a, b) => (idFlag ? a.id - b.id : b.id - a.id)));\n  }, [idFlag, products]);\n\n  return (\n    <div style={{ margin: '50px' }}>\n      <button onClick={handleGoToCart} className=\"goto\">\n        Go To Cart\n      </button>\n\n      <table>\n        <tbody>\n          <tr>\n            <th>\n              <button onClick={handleSortByID}>ID</button>\n            </th>\n            <th>NAME</th>\n            <th>\n              <button onClick={handleSortByCategory}>CATEGORY</button>\n            </th>\n            <th>\n              <button\n                onClick={() => {\n                  handleSortByPrice();\n                }}\n              >\n                PRICE\n              </button>\n            </th>\n            <th>ACTIONS</th>\n          </tr>\n          {products.map((cartItems) => {\n            return (\n              <tr key={cartItems.id}>\n                <td>{cartItems.id}</td>\n                <td> {cartItems.name}</td>\n                <td> {cartItems.category.name}</td>\n                <td>${cartItems.price}</td>\n                <td>\n                  <button onClick={() => handleRemoveFromCart(cartItems.id)}>REMOVE</button> Select{' '}\n                  <button onClick={() => handleAddToCart({ ...cartItems, quantity: 1 })}>ADD</button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}